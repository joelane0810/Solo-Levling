"""
Level Up - RPG Self-Development Configuration
C·∫•u h√¨nh to√†n c·ª•c cho ·ª©ng d·ª•ng
"""

import os
from pathlib import Path
from typing import Dict, List

# Application Info
APP_NAME = "Level Up - RPG Self-Development"
APP_VERSION = "1.0.0"
APP_DESCRIPTION = "·ª®ng d·ª•ng ph√°t tri·ªÉn b·∫£n th√¢n theo phong c√°ch RPG"
APP_AUTHOR = "Level Up Team"

# File Paths
BASE_DIR = Path(__file__).parent
DATA_DIR = BASE_DIR / "data"
SETTINGS_FILE = BASE_DIR / "levelup_settings.json"
BACKUP_DIR = BASE_DIR / "backups"

# Ensure directories exist
DATA_DIR.mkdir(exist_ok=True)
BACKUP_DIR.mkdir(exist_ok=True)

# Google Sheets Configuration
SHEETS_API_BASE_URL = "https://sheets.googleapis.com/v4/spreadsheets"
SHEET_RANGES = {
    'character': 'Character!A1:B25',
    'quests': 'Quests!A2:K1000',
    'achievements': 'Achievements!A2:I1000',
    'goals': 'Goals!A1:E100',
    'resources': 'Resources!A2:F10',
    'resource_details': 'ResourceDetails!A2:G1000',
    'chat': 'Chat!A2:E1000'
}

# Default Settings
DEFAULT_SETTINGS = {
    'sheet_id': '',
    'api_key': '',
    'auto_sync': False,
    'sync_interval': 5,  # minutes
    'theme': 'dark',
    'language': 'vi',
    'notifications': True,
    'backup_enabled': True,
    'backup_interval': 24  # hours
}

# Character Configuration
DEFAULT_CHARACTER = {
    'name': 'Hero',
    'avatar': '',
    'birth_year': None,
    'level': 1,
    'exp': 0,
    'exp_to_next': 100,
    'stats': {
        'WILL': 10,  # √ù ch√≠
        'PHY': 10,   # Th·ªÉ ch·∫•t
        'MEN': 10,   # Tinh th·∫ßn
        'AWR': 10,   # Nh·∫≠n th·ª©c
        'EXE': 10    # Th·ª±c thi
    }
}

# Stat Configuration
STATS_CONFIG = {
    'WILL': {
        'name': '√ù ch√≠',
        'icon': '‚ù§Ô∏è',
        'color': 'red',
        'description': 'Quy·∫øt t√¢m, ki√™n tr√¨, v∆∞·ª£t qua kh√≥ khƒÉn'
    },
    'PHY': {
        'name': 'Th·ªÉ ch·∫•t',
        'icon': '‚öîÔ∏è',
        'color': 'orange',
        'description': 'S·ª©c kh·ªèe, th·ªÉ l·ª±c, nƒÉng l∆∞·ª£ng'
    },
    'MEN': {
        'name': 'Tinh th·∫ßn',
        'icon': 'üß†',
        'color': 'blue',
        'description': 'T∆∞ duy, h·ªçc h·ªèi, s√°ng t·∫°o'
    },
    'AWR': {
        'name': 'Nh·∫≠n th·ª©c',
        'icon': 'üëÅÔ∏è',
        'color': 'purple',
        'description': 'Quan s√°t, hi·ªÉu bi·∫øt, nh·∫°y b√©n'
    },
    'EXE': {
        'name': 'Th·ª±c thi',
        'icon': '‚ö°',
        'color': 'yellow',
        'description': 'H√†nh ƒë·ªông, ho√†n th√†nh, hi·ªáu qu·∫£'
    }
}

# Quest Configuration
QUEST_STATUSES = ['todo', 'in-progress', 'completed']
QUEST_PRIORITIES = ['low', 'medium', 'high']
QUEST_CATEGORIES = [
    'general', 'health', 'learning', 'work', 'finance', 
    'social', 'creative', 'spiritual', 'travel', 'hobby'
]

DIFFICULTY_CONFIG = {
    1: {'stars': '‚≠ê', 'exp_range': (10, 20), 'label': 'D·ªÖ'},
    2: {'stars': '‚≠ê‚≠ê', 'exp_range': (30, 40), 'label': 'B√¨nh th∆∞·ªùng'},
    3: {'stars': '‚≠ê‚≠ê‚≠ê', 'exp_range': (50, 70), 'label': 'Kh√≥'},
    4: {'stars': '‚≠ê‚≠ê‚≠ê‚≠ê', 'exp_range': (80, 100), 'label': 'R·∫•t kh√≥'},
    5: {'stars': '‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê', 'exp_range': (100, 150), 'label': 'C·ª±c kh√≥'}
}

PRIORITY_CONFIG = {
    'high': {'color': '#EF4444', 'label': 'Cao', 'emoji': 'üî¥'},
    'medium': {'color': '#F59E0B', 'label': 'Trung b√¨nh', 'emoji': 'üü°'},
    'low': {'color': '#6B7280', 'label': 'Th·∫•p', 'emoji': '‚ö™'}
}

# Achievement Configuration
ACHIEVEMENT_TIERS = ['bronze', 'silver', 'gold', 'legendary']
ACHIEVEMENT_CATEGORIES = [
    'general', 'character', 'quests', 'resources', 'social', 
    'learning', 'milestone', 'special'
]

TIER_CONFIG = {
    'bronze': {
        'color': '#D97706',
        'emoji': 'ü•â',
        'label': 'ƒê·ªìng',
        'description': 'D·ªÖ ƒë·∫°t ƒë∆∞·ª£c'
    },
    'silver': {
        'color': '#6B7280',
        'emoji': 'ü•à',
        'label': 'B·∫°c',
        'description': 'C·∫ßn n·ªó l·ª±c'
    },
    'gold': {
        'color': '#F59E0B',
        'emoji': 'ü•á',
        'label': 'V√†ng',
        'description': 'Kh√≥ khƒÉn'
    },
    'legendary': {
        'color': '#8B5CF6',
        'emoji': 'üëë',
        'label': 'Huy·ªÅn tho·∫°i',
        'description': 'C·ª±c k·ª≥ hi·∫øm'
    }
}

# Resource Configuration
DEFAULT_RESOURCES = [
    {
        'name': 'X√£ h·ªôi',
        'icon': 'üë•',
        'color': 'from-blue-500 to-blue-600',
        'text_color': 'text-blue-400',
        'description': 'X√¢y d·ª±ng quan h·ªá, k·∫øt n·ªëi',
        'level': 1,
        'progress': 0,
        'next_milestone': '',
        'related_quests': 0
    },
    {
        'name': 'T√†i ch√≠nh',
        'icon': 'üí∞',
        'color': 'from-green-500 to-green-600',
        'text_color': 'text-green-400',
        'description': 'Ti·ªÅn b·∫°c, ƒë·∫ßu t∆∞, t√†i s·∫£n',
        'level': 1,
        'progress': 0,
        'next_milestone': '',
        'related_quests': 0
    },
    {
        'name': 'Ki·∫øn t·∫°o',
        'icon': 'üí°',
        'color': 'from-purple-500 to-purple-600',
        'text_color': 'text-purple-400',
        'description': 'S√°ng t·∫°o, k·ªπ nƒÉng, ki·∫øn th·ª©c',
        'level': 1,
        'progress': 0,
        'next_milestone': '',
        'related_quests': 0
    },
    {
        'name': 'Kh√°m ph√°',
        'icon': 'üß≠',
        'color': 'from-orange-500 to-orange-600',
        'text_color': 'text-orange-400',
        'description': 'Tr·∫£i nghi·ªám, h·ªçc h·ªèi, chinh ph·ª•c',
        'level': 1,
        'progress': 0,
        'next_milestone': '',
        'related_quests': 0
    }
]

RESOURCE_TYPES = ['asset', 'loan', 'investment', 'income', 'expense']

RESOURCE_TYPE_CONFIG = {
    'asset': {
        'icon': 'üí∞',
        'color': '#22C55E',
        'label': 'T√†i s·∫£n',
        'positive': True,
        'description': 'Nh·ªØng g√¨ b·∫°n s·ªü h·ªØu c√≥ gi√° tr·ªã'
    },
    'loan': {
        'icon': 'üìã',
        'color': '#F97316',
        'label': 'Kho·∫£n vay',
        'positive': False,
        'description': 'S·ªë ti·ªÅn b·∫°n ƒëang n·ª£'
    },
    'investment': {
        'icon': 'üìà',
        'color': '#3B82F6',
        'label': 'ƒê·∫ßu t∆∞',
        'positive': True,
        'description': 'T√†i s·∫£n ƒë·∫ßu t∆∞ ƒë·ªÉ sinh l·ªùi'
    },
    'income': {
        'icon': 'üí∏',
        'color': '#10B981',
        'label': 'Thu nh·∫≠p',
        'positive': True,
        'description': 'Ngu·ªìn thu nh·∫≠p ƒë·ªãnh k·ª≥'
    },
    'expense': {
        'icon': 'üí≥',
        'color': '#EF4444',
        'label': 'Chi ph√≠',
        'positive': False,
        'description': 'Chi ti√™u v√† chi ph√≠ ƒë·ªãnh k·ª≥'
    }
}

# Chat Configuration
CHAT_MESSAGE_TYPES = ['note', 'reminder', 'achievement']

MESSAGE_TYPE_CONFIG = {
    'note': {
        'icon': 'üí≠',
        'color': '#9CA3AF',
        'label': 'Ghi ch√∫',
        'description': 'Suy nghƒ© c√° nh√¢n'
    },
    'reminder': {
        'icon': '‚è∞',
        'color': '#F59E0B',
        'label': 'Nh·∫Øc nh·ªü',
        'description': 'L·ªùi nh·∫Øc quan tr·ªçng'
    },
    'achievement': {
        'icon': 'üéâ',
        'color': '#22C55E',
        'label': 'Th√†nh t·ª±u',
        'description': 'Ho√†n th√†nh nhi·ªám v·ª•'
    }
}

# UI Configuration
THEME_CONFIG = {
    'dark': {
        'background': '#0f0f0f',
        'secondary_background': '#1a1a2e',
        'text_color': '#ffffff',
        'primary_color': '#3B82F6'
    },
    'light': {
        'background': '#ffffff',
        'secondary_background': '#f8fafc',
        'text_color': '#1f2937',
        'primary_color': '#2563EB'
    }
}

# Navigation Configuration
NAV_ITEMS = [
    {'id': 'dashboard', 'icon': 'üè†', 'label': 'Trang ch·ªß'},
    {'id': 'character', 'icon': 'üë§', 'label': 'Nh√¢n v·∫≠t'},
    {'id': 'quests', 'icon': '‚öîÔ∏è', 'label': 'Nhi·ªám v·ª•'},
    {'id': 'resources', 'icon': 'üíé', 'label': 'Ngu·ªìn v·ªën'},
    {'id': 'achievements', 'icon': 'üèÜ', 'label': 'Danh hi·ªáu'}
]

# Validation Rules
VALIDATION_RULES = {
    'character': {
        'name': {'min_length': 1, 'max_length': 50},
        'birth_year': {'min_value': 1900, 'max_value': 2025},
        'level': {'min_value': 1, 'max_value': 9999},
        'exp': {'min_value': 0, 'max_value': 999999},
        'stats': {'min_value': 1, 'max_value': 999}
    },
    'quest': {
        'title': {'min_length': 1, 'max_length': 200},
        'description': {'max_length': 1000},
        'difficulty': {'min_value': 1, 'max_value': 5},
        'reward_exp': {'min_value': 0, 'max_value': 9999}
    },
    'resource_detail': {
        'name': {'min_length': 1, 'max_length': 100},
        'amount': {'min_value': 0, 'max_value': 999999999999},
        'notes': {'max_length': 500}
    }
}

# Error Messages
ERROR_MESSAGES = {
    'connection_failed': 'Kh√¥ng th·ªÉ k·∫øt n·ªëi v·ªõi Google Sheets. Vui l√≤ng ki·ªÉm tra c√†i ƒë·∫∑t.',
    'invalid_api_key': 'API Key kh√¥ng h·ª£p l·ªá ho·∫∑c kh√¥ng c√≥ quy·ªÅn truy c·∫≠p.',
    'sheet_not_found': 'Kh√¥ng t√¨m th·∫•y Google Sheet v·ªõi ID n√†y.',
    'sync_failed': 'ƒê·ªìng b·ªô d·ªØ li·ªáu th·∫•t b·∫°i. Vui l√≤ng th·ª≠ l·∫°i.',
    'validation_failed': 'D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá. Vui l√≤ng ki·ªÉm tra l·∫°i.',
    'save_failed': 'Kh√¥ng th·ªÉ l∆∞u d·ªØ li·ªáu. Vui l√≤ng th·ª≠ l·∫°i.',
    'required_field': 'Tr∆∞·ªùng n√†y l√† b·∫Øt bu·ªôc.',
    'invalid_format': 'ƒê·ªãnh d·∫°ng d·ªØ li·ªáu kh√¥ng ƒë√∫ng.',
    'network_error': 'L·ªói k·∫øt n·ªëi m·∫°ng. Vui l√≤ng ki·ªÉm tra internet.'
}

# Success Messages
SUCCESS_MESSAGES = {
    'connection_success': 'K·∫øt n·ªëi Google Sheets th√†nh c√¥ng!',
    'sync_success': 'ƒê·ªìng b·ªô d·ªØ li·ªáu th√†nh c√¥ng!',
    'save_success': 'L∆∞u d·ªØ li·ªáu th√†nh c√¥ng!',
    'quest_completed': 'Ho√†n th√†nh nhi·ªám v·ª• th√†nh c√¥ng!',
    'level_up': 'Ch√∫c m·ª´ng! B·∫°n ƒë√£ l√™n level!',
    'achievement_unlocked': 'M·ªü kh√≥a danh hi·ªáu m·ªõi!',
    'settings_saved': 'C√†i ƒë·∫∑t ƒë√£ ƒë∆∞·ª£c l∆∞u!',
    'data_updated': 'C·∫≠p nh·∫≠t d·ªØ li·ªáu th√†nh c√¥ng!'
}

# Environment Variables
def get_env_var(key: str, default: str = '') -> str:
    """Get environment variable with fallback"""
    return os.getenv(key, default)

# Development Configuration
DEBUG = get_env_var('LEVELUP_DEBUG', 'False').lower() == 'true'
LOG_LEVEL = get_env_var('LEVELUP_LOG_LEVEL', 'INFO')
CACHE_TTL = int(get_env_var('LEVELUP_CACHE_TTL', '300'))  # 5 minutes

# Production Configuration
PRODUCTION = get_env_var('LEVELUP_ENV', 'development') == 'production'
MAX_REQUESTS_PER_MINUTE = int(get_env_var('LEVELUP_MAX_REQUESTS', '60'))
REQUEST_TIMEOUT = int(get_env_var('LEVELUP_TIMEOUT', '30'))

# Feature Flags
FEATURES = {
    'auto_backup': get_env_var('LEVELUP_AUTO_BACKUP', 'True').lower() == 'true',
    'notifications': get_env_var('LEVELUP_NOTIFICATIONS', 'True').lower() == 'true',
    'analytics': get_env_var('LEVELUP_ANALYTICS', 'False').lower() == 'true',
    'beta_features': get_env_var('LEVELUP_BETA', 'False').lower() == 'true'
}